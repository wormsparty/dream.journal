{% extends 'base.html' %}

{% block header %}
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
{% endblock %}

{% block content %}
    <div id="left-menu">
        <div id="current_suid" style="display:none"></div>
        <div class="pure-menu" style="height: 100%">
            <div id="icon-section">
                <div style="height: 15px"></div>
                <svg width="100%" height="50px" viewBox="0 0 12 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"><path d="M0.582,5.151c0,-0.115 0.684,-0.662 0.882,-0.728c0.189,-0.062 0.514,-0.202 0.678,-0.284c0.05,-0.025 0.655,-0.145 0.826,-0.145c0.217,0 1.466,-0.228 1.683,-0.246c0.591,-0.05 1.497,-0.051 1.686,-0.051c0.02,0 2.096,-0.021 3.026,0.368c0.699,0.294 1.228,0.214 1.36,0.346c0.077,0.078 0.949,0.742 0.99,0.955" style="fill:#a4cf75;stroke:#000;stroke-width:0.24px;"/><path d="M0.491,5.204c0.105,-0.377 2.05,-0.003 2.622,-0.146c0.962,-0.241 0.996,-3.714 2.002,-3.714c0.851,0 0.989,3.575 1.821,3.714c0.456,0.076 1.187,-1.365 1.638,-1.274c0.487,0.097 1.236,-0.523 1.711,-0.365c0.111,0.037 1.228,0.694 1.348,1.53c0.175,1.227 0.297,1.101 -0.298,2.29c-0.472,0.946 -0.283,1.054 -1.087,1.719c-0.651,0.54 -1.241,1.21 -2.111,1.384c-0.658,0.131 -1.419,0.357 -2.112,0.218c-1.957,-0.391 -4.283,-0.5 -5.076,-2.213c-0.146,-0.316 -0.367,-0.933 -0.454,-1.282c-0.342,-1.365 -0.098,-1.526 -0.004,-1.861Z" style="fill:#81654e;"/><clipPath id="_clip1"><path d="M0.491,5.204c0.105,-0.377 2.05,-0.003 2.622,-0.146c0.962,-0.241 0.996,-3.714 2.002,-3.714c0.851,0 0.989,3.575 1.821,3.714c0.456,0.076 1.187,-1.365 1.638,-1.274c0.487,0.097 1.236,-0.523 1.711,-0.365c0.111,0.037 1.228,0.694 1.348,1.53c0.175,1.227 0.297,1.101 -0.298,2.29c-0.472,0.946 -0.283,1.054 -1.087,1.719c-0.651,0.54 -1.241,1.21 -2.111,1.384c-0.658,0.131 -1.419,0.357 -2.112,0.218c-1.957,-0.391 -4.283,-0.5 -5.076,-2.213c-0.146,-0.316 -0.367,-0.933 -0.454,-1.282c-0.342,-1.365 -0.098,-1.526 -0.004,-1.861Z"/></clipPath><g clip-path="url(#_clip1)"><path d="M-0.334,-0.675c-0.089,0.089 0.944,6.916 1.245,7.107c0.797,0.509 1.581,1.211 3.512,1.208c1.783,-0.002 2.944,-0.003 3.348,-0.003c1.705,0 3.293,-1.081 4.084,-2.212c0.06,-0.086 1.925,-5.88 1.98,-5.972" style="fill:#b58f4e;"/><clipPath id="_clip2"><path d="M-0.334,-0.675c-0.089,0.089 0.944,6.916 1.245,7.107c0.797,0.509 1.581,1.211 3.512,1.208c1.783,-0.002 2.944,-0.003 3.348,-0.003c1.705,0 3.293,-1.081 4.084,-2.212c0.06,-0.086 1.925,-5.88 1.98,-5.972"/></clipPath><g clip-path="url(#_clip2)"><path d="M2.869,9.026c0,-0.057 -0.239,-1.563 -0.119,-1.71c0.182,-0.225 0.46,-0.477 1.179,-0.566c1.12,-0.139 0.783,0.092 1.704,-0.088c0.756,-0.148 0.801,-0.157 1.261,-0.372c0.38,-0.177 0.649,-0.328 0.859,-0.328c0.217,0 0.689,-0.09 1.255,-0.181c0.542,-0.087 0.971,0.337 1.724,0.292c0.373,-0.022 0.378,0.015 0.574,0.066c0.032,0.009 0.978,1.247 1.004,1.247" style="fill:#88c9e6;stroke:#000;stroke-width:0.24px;"/></g><path d="M-0.334,-0.675c-0.089,0.089 0.944,6.916 1.245,7.107c0.797,0.509 1.581,1.211 3.512,1.208c1.783,-0.002 2.944,-0.003 3.348,-0.003c1.705,0 3.293,-1.081 4.084,-2.212c0.06,-0.086 1.925,-5.88 1.98,-5.972" style="fill:none;stroke:#000;stroke-width:0.24px;"/><path d="M4.968,1.339c0.076,0 0.064,0.101 0.112,0.149c0.077,0.078 0.052,0.258 0.13,0.336c0.044,0.043 -0.006,0.18 0.037,0.223c0.04,0.04 -0.007,0.179 0.038,0.224c0.157,0.157 0.074,0.749 0.074,1.025c0,0.188 0.035,0.378 0.06,0.521c0.019,0.112 0.183,1.1 0.406,1.511c0.117,0.215 1,-0.216 1.063,-0.279c0.093,-0.094 0.667,-0.406 0.801,-0.541c0.02,-0.019 1.285,-0.16 1.343,-0.186c0.493,-0.224 2.315,0.829 2.922,0.744c0.147,-0.02 -0.001,-1.376 -0.033,-1.565" style="fill:#e6d188;stroke:#000;stroke-width:0.24px;"/><path d="M3.141,5.067c-0.064,0 -0.162,0.143 -0.205,0.187c-0.035,0.035 -0.142,0.029 -0.187,0.074c-0.089,0.09 -0.245,0.115 -0.354,0.224c-0.031,0.031 -0.118,0.024 -0.149,0.056c-0.016,0.016 -0.375,0.016 -0.391,0c-0.071,-0.07 -0.316,-0.056 -0.448,-0.056c-0.36,0 -2.588,-0.913 -2.908,-0.913" style="fill:#ebdba1;stroke:#000;stroke-width:0.24px;"/></g><path d="M0.491,5.204c0.105,-0.377 2.05,-0.003 2.622,-0.146c0.962,-0.241 0.996,-3.714 2.002,-3.714c0.851,0 0.989,3.575 1.821,3.714c0.456,0.076 1.187,-1.365 1.638,-1.274c0.487,0.097 1.236,-0.523 1.711,-0.365c0.111,0.037 1.228,0.694 1.348,1.53c0.175,1.227 0.297,1.101 -0.298,2.29c-0.472,0.946 -0.283,1.054 -1.087,1.719c-0.651,0.54 -1.241,1.21 -2.111,1.384c-0.658,0.131 -1.419,0.357 -2.112,0.218c-1.957,-0.391 -4.283,-0.5 -5.076,-2.213c-0.146,-0.316 -0.367,-0.933 -0.454,-1.282c-0.342,-1.365 -0.098,-1.526 -0.004,-1.861Z" style="fill:none;stroke:#000;stroke-width:0.24px;"/></svg>
                <div style="height: 10px"></div>
            </div>
            <ul id="subjectlist" class="pure-menu-list" style="height: calc(100% - 75px);">
                <!-- Populated dynamically -->
            </ul>
        </div>
    </div>
    <div id="content">
        <div class="pure-menu pure-menu-horizontal" style="position: fixed; z-index: 1; background: rgb(10, 10, 10); width: 440px; padding-bottom: 15px">
            <ul class="pure-menu-list">
                <li class="pure-menu-item">
                    <div class="icon-search">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.0" x="0px" y="0px" viewBox="0 0 384 512" class="icon">
                            <path d="M381 387c4 4 4 10 0 14l-43 44c-2 2-5 3-8 3s-5-1-7-3l-84-86c-25 15-52 23-80 23C72 382 0 311 0 223S72 64 159 64s158 71 158 159c0 27-7 54-21 78zM159 126c-53 0-97 43-97 97s44 97 97 97 96-43 96-97-43-97-96-97z"></path>
                        </svg>
                    </div>
                    <input class="search" placeholder="Recherche..." />
                </li>
            </ul>
        </div>
        <div style="height: 75px"></div>
        <form class="pure-form" style="width: 100%;">
            <div class="table-wrapper">
                <table id="elementlist" class="table-style">
                    <!-- Populated dynamically -->
                </table>
            </div>
        </form>
        <div style="width: 440px; height: 110px; background: rgb(10, 10, 10); position: fixed; left: 121px; bottom: 0">
            <form class="pure-form" style="width: 100%;">
                <textarea class="text-content" placeholder="Nouveau titre..." wrap="hard"></textarea>
            </form>
        </div>
    </div>
    <div id="messages">
        <div style="height: 75px"></div>
        <form class="pure-form" style="width: 100%;">
            <div class="message-wrapper">
                <table id="messagelist" class="message-table">
                    <!-- Populated dynamically -->
                </table>
            </div>
        </form>
        <div style="width: calc(100% - 596px); max-width: 691px; height: 110px; background: rgb(10, 10, 10); position: fixed; left: 580px; bottom: 0">
            <form class="pure-form" style="width: 100%;">
                <textarea class="text-message" placeholder="Nouveau message..." wrap="hard"></textarea>
            </form>
        </div>
    </div>
    <div class="modal micromodal-slide" id="modal-create">
        <div class="modal_overlay" tabindex="-1">
            <div class="modal_container" role="dialog" aria-modal="true" aria-labelledby="modal-create-title">
                <header class="modal_header">
                    <h2 class="modal_title" id="modal-create-title">
                        Ajout de sujet
                    </h2>
                </header>
                <main class="modal_content" id="modal-create-content">
                    <form class="pure-form">
                        <button id="ajouter_couleur" class="jscolor pure-button" style="width: 30px; height: 30px; background-color: rgb(255, 255, 255);" type="button" value="FFFFFF"></button>
                        <input id="ajouter_sujet" class="search-bar" style="width: 360px; left: inherit; border: 1px solid #000; box-shadow: none; margin-left: 3px"/>
                        <div style="height: 30px"></div>
                        <button class="primary-button pure-button" style="margin-left: 300px" onclick="ajouter_subject()">Ajouter</button>
                    </form>
                </main>
                <footer class="modal_footer">
                </footer>
            </div>
        </div>
    </div>
    <div class="modal micromodal-slide" id="modal-edit">
        <div class="modal_overlay" tabindex="-1">
            <div class="modal_container" role="dialog" aria-modal="true" aria-labelledby="modal-edit-title">
                <header class="modal_header">
                    <h2 class="modal_title" id="modal-edit-title">
                        Éditer sujet
                    </h2>
                </header>
                <main class="modal_content" id="modal-edit-content">
                    <form class="pure-form">
                        <button id="edit_couleur" class="jscolor pure-button" style="width: 30px; height: 30px; background-color: rgb(255, 255, 255);" value="FFFFFF" type="button"></button>
                        <input id="edit_sujet" class="search-bar" style="width: 360px; left: inherit; border: 1px solid #000; box-shadow: none; margin-left: 3px"/>
                        <div style="height: 30px"></div>
                        <button class="primary-button pure-button" style="margin-left: 300px" onclick="edit_subject()">Sauver</button>
                    </form>
                </main>
                <footer class="modal_footer">
                </footer>
            </div>
        </div>
    </div>
    <div class="modal micromodal-slide" id="modal-message">
        <div class="modal_overlay" tabindex="-1">
            <div class="modal_container" role="dialog" aria-modal="true" aria-labelledby="modal-message-title">
                <header class="modal_header">
                    <h2 class="modal_title" id="modal-message-title">
                        Type de message
                    </h2>
                </header>
                <main class="modal_content">
                    <span id="modal-message-content">
                        Contenu du message
                    </span>
                    <div style="height: 70px"></div>
                    <button class="primary-button pure-button" style="margin-left: 300px" onclick="close_modal('modal-message')">Fermer</button>
                </main>
                <footer class="modal_footer">
                </footer>
            </div>
        </div>
    </div>
    <div class="modal micromodal-slide" id="modal-admin">
        <div class="modal_overlay" tabindex="-1">
            <div class="modal_container" role="dialog" aria-modal="true" aria-labelledby="modal-message-title">
                <header class="modal_header">
                    <h2 class="modal_title">
                        Administration
                    </h2>
                </header>
                <main class="modal_content">
                    <button class="pure-button" style="background: rgb(202, 60, 60);" onclick="deploy()">Déployer</button>
                    <span id="statustext"></span>
                </main>
                <footer class="modal_footer">
                </footer>
            </div>
        </div>
    </div>
    <div class="contextmenu" id="contextsujet" style="display: none">
        <div id="selected_subject" style="display: none"></div>
        <ul class="pure-menu-list" style="border: 1px solid #DDD;">
            <li id="edit_subject" class="pure-menu-item centered" style="background: rgb(26, 26, 27);">
                <a href="#" class="pure-menu-link" onclick="display_modal('modal-edit')">Éditer</a>
            </li>
            <li id="delete_subject" class="pure-menu-item centered" style="background: rgb(26, 26, 27);">
                <a href="#" class="pure-menu-link">Supprimer</a>
            </li>
        </ul>
    </div>
    <div class="contextmenu" id="contextleftmenu" style="display: none">
        <ul class="pure-menu-list" style="border: 1px solid #DDD;">
            <li id="edit_subject" class="pure-menu-item centered" style="background: rgb(26, 26, 27)">
                <a href="#" class="pure-menu-link" onclick="display_modal('modal-create')">Ajouter</a>
            </li>
        </ul>
    </div>
    <div class="contextmenu" id="contextadmin" style="display: none">
        <ul class="pure-menu-list" style="border: 1px solid #DDD;">
            <li id="edit_subject" class="pure-menu-item centered" style="background: rgb(26, 26, 27)">
                <a href="#" class="pure-menu-link" onclick="display_modal('modal-admin')">Admin</a>
            </li>
        </ul>
    </div>
{% endblock %}